<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <title>SpriteTests</title>
    <script src="../Shared/Redread.js"></script>
    <script src="../Client/GameObject.js"></script>
    <script src="../Client/Sprite.js"></script>
    <script>
        window.onload = function() {
            Redread.initClient('game');

            var sprite1 = Redread.sprite([
                [0, 0, 20, 93, 5, 2]
            ], 'resources/pong.png');

            var sprite2 = Redread.sprite([
                [50, 0, 20, 93, 5, 2]
            ], 'resources/pong.png');

            var leftPad = Redread.gameObject(sprite1);
            var rightPad = Redread.gameObject(sprite2);

            //TODO: Testing only
            leftPad.posX = 10;
            leftPad.posY = 10;
            rightPad.posX = 470;
            rightPad.posY = 10;

            Redread.addObjects(leftPad, rightPad);

            var up = false;
            Redread.start(function() {
                for (var i = 0; i < this.objects.length; i++) {
                    var obj = this.objects[i];

                    if (obj.posY > 200) {
                        up = true;
                    } else if (obj.posY <= 0) {
                        up = false;
                    }

                    if (up) {
                        obj.posY--;
                    } else {
                        obj.posY++;
                    }
                }
            });
        };
    </script>
</head>
<body>
    <canvas id="game" width=500 height=300 style="border: 1px solid #ddd;"></canvas>
</body>
</html>
