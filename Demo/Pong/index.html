<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Pong</title>
	<link rel="stylesheet" href="../common/global.css" type="text/css">
    <script src="http://10.1.1.12:9090/socket.io/socket.io.js"></script>
    <script src="../../Shared/Redread.js"></script>
    <script src="../../Client/GameObject.js"></script>
    <script src="../../Client/Drawing.js"></script>
    <script src="../../Client/Sprite.js"></script>
    <script src="../../Client/Input.js"></script>
    <script>
        window.onload = function() {
            Redread.initClient('game');

            var sprite1 = Redread.sprite([
                [0, 0, 20, 93, 5, 2, 100]
            ], 'resources/pong.png');

            var sprite2 = Redread.sprite([
                [50, 0, 20, 93, 5, 2, 100]
            ], 'resources/pong.png');

            var ballSprite = Redread.sprite([
                [0, 93, 20, 20, 5, 1]
            ], 'resources/pong.png');

            var leftPad = new Redread.gameObject(sprite1, 'lefty');
            var rightPad = new Redread.gameObject(sprite2, 'righty');
            var ball = new Redread.gameObject(ballSprite, 'ball');

			var scoreLeft = new Redread.gameObjectText(leftPad.getScore, {
				stroke: '0',
				color: 'white',
				font: '30pt CabinSketch',
				position: 'top left'
			});

			var scoreRight = new Redread.gameObjectText(rightPad.getScore, {
				stroke: '0',
				color: 'white',
				font: '30pt CabinSketch',
				position: 'top right'
			});

            Redread.addObjects(leftPad, rightPad, ball);
            Redread.addLocalObjects(scoreLeft, scoreRight);

			Redread.Input.bindDirectional('WASD,ACCEL');

            Redread.start(function() {});
        };
    </script>
</head>
<body>
	<span id="x"></span>
	<span id="y"></span>
    <canvas id="game" width=500 height=300></canvas>
</body>
</html>
